9. XML-интерфейс скупки из своей новой заяки чужой новой противоположной по направлению обмена.

В секции реализован XML интерфейс для автоматической покупки из своей новой заявки чужой новой, противоположной по направлению обмена.
URL интерфейса https://wm.exchanger.ru/asp/XMLQrFromTrIns.asp.

Для запроса интерфейса по указанному URL необходимо передать методом POST следующий XML запрос:
<wm.exchanger.request>
<wmid></wmid>
<signstr></signstr>
<isxtrid></isxtrid>
<desttrid></desttrid>
<deststamp></deststamp>
</wm.exchanger.request>

Описание тэгов запроса:

    * wmid - 12 цифр - ВМ-идентификатор, чья новая заявка номер isxtrid будет использоваться для покупки чужой заявки.
    * signstr - 132-символьная цифровая подпись (ключами .kwm идентификатора wmid) значений 3-х тэгов запроса склееных в одну строку без пробелов "wmid + isxtrid + desttrid" (формирование цифровой подписи см. в описании общих ВМ-интерфейсов для разработчиков)
    * isxtrid - номер, выставленной идентификатором wmid, новой заявки, c которой будет производится покупка чужой заявки номер desttrid
    * desttrid - номер чужой заявки, которую необходимо купить
    * deststamp - число равное сумме часа, минуты и секунды из даты заявки, которую необходимо купить (querydate в интерфейсе 2), в случае если заявка, которую необходимо купить - изменялась и у нее будет другое время (другая сумма часа минуты и секунды), траназкция не пройдет. Для совместимости в данном параметре можно ничего не передавать или передавать число 1001, в этом случае проверка на измененность заявки производиться не будет.

Описание возвращаемых интерфейсом полей (тэгов):

    * retval - "0" в случае успешного выполнения операции, цифровое обозначение ошибки противном случае
    * retdesc - описание ошибки в случае если тэг RetVal не равен 0
