8. XML-интерфейс постановки новой заявки на обмен

В секции реализован XML интерфейс для автоматической постановки на обмен новой заявки.
URL интерфейса https://wm.exchanger.ru/asp/XMLTrustPay.asp.

Для запроса интерфейса по указанному URL необходимо передать методом POST следующий XML запрос:
<wm.exchanger.request>
<wmid></wmid>
<signstr></signstr>
<inpurse></inpurse>
<outpurse></outpurse>
<inamount></inamount>
<outamount></outamount>
</wm.exchanger.request>

Описание тэгов запроса:

    * wmid - 12 цифр - ВМ-идентификатор, с которого будет выставляться новая заявка
    * signstr - 132-символьная цифровая подпись (ключами .kwm идентификатора wmid) значений 5-ти тэгов запроса склееных в одну строку без пробелов "wmid + inpurse + outpurse + inamount + outamount" (формирование цифровой подписи см. в описании общих ВМ-интерфейсов для разработчиков)
    * inpurse - номер кошелька ВМ-идентификатора wmid, с которого необходимо взять сумму к обмену для постановки заявки, на данный кошелек должно быть установлено доверие на выполнение переводов от имени идентификатора сервиса системы WMT - WM#128984249415 - секции wm.exchanger
    * outpurse - номер кошелька ВМ-идентификатора wmid, на который будут поступать средства по мере обмена
    * inamount - сумма, которая будет автоматически переведена с кошелька inpurse на кошелек сервиса секции wm.exchanger и выставлена к обмену
    * outamount - сумма, которую необходимо перевести на кошелек outpurse по завершению обмена

Описание возвращаемых интерфейсом полей (тэгов):

    * retval - "0" в случае успешного выполнения операции, цифровое обозначение ошибки противном случае. При успешном результате в атрибутах тэга RetVal находятся номер посталвенной заявки (атрибут operid) и номер транзакции в WMT (атрибут wmtransid).
    * retdesc - описание ошибки в случае если тэг RetVal не равен 0
